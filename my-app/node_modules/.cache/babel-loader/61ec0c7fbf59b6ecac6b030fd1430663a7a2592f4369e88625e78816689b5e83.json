{"ast":null,"code":"// import React, { useState } from \"react\";\n// import \"../styles/Login.css\";\n// import Logo from \"../assets/logo light.jpg\";\n// import LoginBackground from \"../assets/medicnotes-hero.webp\";\n\n// function Login({ setAuth }) {\n//   const [showCard2, setShowCard2] = useState(false);\n//   const [role, setRole] = useState(\"patient\");\n//   const [username, setUsername] = useState(\"\");\n//   const [password, setPassword] = useState(\"\");\n//   const [errorMessage, setErrorMessage] = useState(\"\");\n\n//   const handleLoginClick = () => {\n//     setShowCard2(true);\n//     setErrorMessage(\"\");\n//   };\n\n//   const handleNextClick = async () => {\n//     let url = \"\";\n//     let body = {};\n\n//     if (role === \"admin\") {\n//       url = \"http://localhost:8080/auth/admin/login\";\n//       body = {\n//         adminId: username,\n//         password: password,\n//       };\n//     } else if (role === \"doctor\") {\n//       url = \"http://localhost:8080/auth/doctor/login\";\n//       body = {\n//         email: username,\n//         password: password,\n//       };\n//     } else if (role === \"patient\") {\n//       url = \"http://localhost:8080/auth/patient/login\";\n//       body = {\n//         phone: username,\n//         password: password,\n//       };\n//     }\n\n//     try {\n//       const response = await fetch(url, {\n//         method: \"POST\",\n//         headers: {\n//           \"Content-Type\": \"application/json\",\n//         },\n//         body: JSON.stringify(body),\n//       });\n\n//       if (!response.ok) {\n//         const errorData = await response.json();\n//         console.error(\"Server responded with error:\", errorData);\n//         const message =\n//           errorData.message || \"Server error. Please try again later.\";\n//         throw new Error(message);\n//       }\n\n//       const data = await response.json();\n\n//       localStorage.setItem(\"token\", data.token);\n//       localStorage.setItem(\"role\", role);\n\n//       console.log(\"Login successful. Token:\", data.token);\n//       console.log(\"Role set as:\", role);\n\n//       setAuth({\n//         isAuthenticated: true,\n//         role: role.toUpperCase(), // Convert to \"ADMIN\", \"DOCTOR\", \"PATIENT\"\n//         username: data.name || username, // Use backend name or input if not returned\n//       });\n//     } catch (error) {\n//       console.error(\"Login error:\", error);\n//       setErrorMessage(error.message);\n//     }\n//   };\n\n//   return (\n//     // <div className=\"Login-Cards\">\n//     //   <div\n//     //     className={`card-transition ${showCard2 ? \"card-hide\" : \"card-show\"}`}\n//     //   >\n//     //     <div className=\"Login-card-1\">\n//     //       <img src={Logo} alt=\"\" />\n//     //       <h2>Login to Medical Notes</h2>\n//     //       <p>Access Your Account securely.</p>\n//     //       <button className=\"btn btn-primary\" onClick={handleLoginClick}>\n//     //         Login\n//     //       </button>\n//     //     </div>\n//     //   </div>\n\n//     //   <div\n//     //     className={`card-transition ${showCard2 ? \"card-show\" : \"card-hide\"}`}\n//     //   >\n//     //     <div className=\"login-container Login-card-2\">\n//     //       <img src={Logo} alt=\"\" className=\"logo\" />\n//     //       <h2>Sign in to MedicNotes</h2>\n//     //       <p className=\"subtitle\">Access your Account securely</p>\n\n//     //       <label htmlFor=\"role\">I am a</label>\n//     //       <select\n//     //         id=\"role\"\n//     //         value={role}\n//     //         onChange={(e) => setRole(e.target.value)}\n//     //       >\n//     //         <option value=\"patient\">Patient</option>\n//     //         <option value=\"doctor\">Doctor</option>\n//     //         <option value=\"admin\">Admin</option>\n//     //       </select>\n\n//     //       <label htmlFor=\"email\">Username / Email / ID</label>\n//     //       <input\n//     //         type=\"text\"\n//     //         id=\"email\"\n//     //         value={username}\n//     //         onChange={(e) => setUsername(e.target.value)}\n//     //         placeholder=\"e.g., dr.john@example.com\"\n//     //       />\n\n//     //       <label htmlFor=\"password\">Password</label>\n//     //       <input\n//     //         type=\"password\"\n//     //         id=\"password\"\n//     //         value={password}\n//     //         onChange={(e) => setPassword(e.target.value)}\n//     //         placeholder=\"password\"\n//     //       />\n\n//     //       {errorMessage && <div className=\"error-message\">{errorMessage}</div>}\n\n//     //       <button className=\"btn\" onClick={handleNextClick}>\n//     //         Next\n//     //       </button>\n//     //     </div>\n//     //   </div>\n//     // </div>\n\n//     <div class=\"MainPage Login-Cards\">\n//       <div class=\"shade\">\n//         <header>\n//           <div class=\"navbar\">\n//             <div class=\"logo\">\n//               <span>MedicNotes</span>\n//             </div>\n//             <button class=\"contact-btn\">Contact Us</button>\n//           </div>\n//         </header>\n\n//         <section class=\"hero\">\n//           <div class=\"hero-content\">\n//             <h1>\n//               MedicNotes:\n//               <br />\n//               Empowering Doctors\n//             </h1>\n//             <p>\n//               Streamline your workflow with intuitive, AI-powered medical\n//               documentation.\n//             </p>\n//             <button class=\"discover-btn\">Login</button>\n//           </div>\n//           <div class=\"hero-bg\"></div>\n//         </section>\n//       </div>\n//     </div>\n//   );\n// }\n\n// export default Login;","map":{"version":3,"names":[],"sources":["W:/Medic-React/my-app/src/components/Login.js"],"sourcesContent":["// import React, { useState } from \"react\";\r\n// import \"../styles/Login.css\";\r\n// import Logo from \"../assets/logo light.jpg\";\r\n// import LoginBackground from \"../assets/medicnotes-hero.webp\";\r\n\r\n// function Login({ setAuth }) {\r\n//   const [showCard2, setShowCard2] = useState(false);\r\n//   const [role, setRole] = useState(\"patient\");\r\n//   const [username, setUsername] = useState(\"\");\r\n//   const [password, setPassword] = useState(\"\");\r\n//   const [errorMessage, setErrorMessage] = useState(\"\");\r\n\r\n//   const handleLoginClick = () => {\r\n//     setShowCard2(true);\r\n//     setErrorMessage(\"\");\r\n//   };\r\n\r\n//   const handleNextClick = async () => {\r\n//     let url = \"\";\r\n//     let body = {};\r\n\r\n//     if (role === \"admin\") {\r\n//       url = \"http://localhost:8080/auth/admin/login\";\r\n//       body = {\r\n//         adminId: username,\r\n//         password: password,\r\n//       };\r\n//     } else if (role === \"doctor\") {\r\n//       url = \"http://localhost:8080/auth/doctor/login\";\r\n//       body = {\r\n//         email: username,\r\n//         password: password,\r\n//       };\r\n//     } else if (role === \"patient\") {\r\n//       url = \"http://localhost:8080/auth/patient/login\";\r\n//       body = {\r\n//         phone: username,\r\n//         password: password,\r\n//       };\r\n//     }\r\n\r\n//     try {\r\n//       const response = await fetch(url, {\r\n//         method: \"POST\",\r\n//         headers: {\r\n//           \"Content-Type\": \"application/json\",\r\n//         },\r\n//         body: JSON.stringify(body),\r\n//       });\r\n\r\n//       if (!response.ok) {\r\n//         const errorData = await response.json();\r\n//         console.error(\"Server responded with error:\", errorData);\r\n//         const message =\r\n//           errorData.message || \"Server error. Please try again later.\";\r\n//         throw new Error(message);\r\n//       }\r\n\r\n//       const data = await response.json();\r\n\r\n//       localStorage.setItem(\"token\", data.token);\r\n//       localStorage.setItem(\"role\", role);\r\n\r\n//       console.log(\"Login successful. Token:\", data.token);\r\n//       console.log(\"Role set as:\", role);\r\n\r\n//       setAuth({\r\n//         isAuthenticated: true,\r\n//         role: role.toUpperCase(), // Convert to \"ADMIN\", \"DOCTOR\", \"PATIENT\"\r\n//         username: data.name || username, // Use backend name or input if not returned\r\n//       });\r\n//     } catch (error) {\r\n//       console.error(\"Login error:\", error);\r\n//       setErrorMessage(error.message);\r\n//     }\r\n//   };\r\n\r\n//   return (\r\n//     // <div className=\"Login-Cards\">\r\n//     //   <div\r\n//     //     className={`card-transition ${showCard2 ? \"card-hide\" : \"card-show\"}`}\r\n//     //   >\r\n//     //     <div className=\"Login-card-1\">\r\n//     //       <img src={Logo} alt=\"\" />\r\n//     //       <h2>Login to Medical Notes</h2>\r\n//     //       <p>Access Your Account securely.</p>\r\n//     //       <button className=\"btn btn-primary\" onClick={handleLoginClick}>\r\n//     //         Login\r\n//     //       </button>\r\n//     //     </div>\r\n//     //   </div>\r\n\r\n//     //   <div\r\n//     //     className={`card-transition ${showCard2 ? \"card-show\" : \"card-hide\"}`}\r\n//     //   >\r\n//     //     <div className=\"login-container Login-card-2\">\r\n//     //       <img src={Logo} alt=\"\" className=\"logo\" />\r\n//     //       <h2>Sign in to MedicNotes</h2>\r\n//     //       <p className=\"subtitle\">Access your Account securely</p>\r\n\r\n//     //       <label htmlFor=\"role\">I am a</label>\r\n//     //       <select\r\n//     //         id=\"role\"\r\n//     //         value={role}\r\n//     //         onChange={(e) => setRole(e.target.value)}\r\n//     //       >\r\n//     //         <option value=\"patient\">Patient</option>\r\n//     //         <option value=\"doctor\">Doctor</option>\r\n//     //         <option value=\"admin\">Admin</option>\r\n//     //       </select>\r\n\r\n//     //       <label htmlFor=\"email\">Username / Email / ID</label>\r\n//     //       <input\r\n//     //         type=\"text\"\r\n//     //         id=\"email\"\r\n//     //         value={username}\r\n//     //         onChange={(e) => setUsername(e.target.value)}\r\n//     //         placeholder=\"e.g., dr.john@example.com\"\r\n//     //       />\r\n\r\n//     //       <label htmlFor=\"password\">Password</label>\r\n//     //       <input\r\n//     //         type=\"password\"\r\n//     //         id=\"password\"\r\n//     //         value={password}\r\n//     //         onChange={(e) => setPassword(e.target.value)}\r\n//     //         placeholder=\"password\"\r\n//     //       />\r\n\r\n//     //       {errorMessage && <div className=\"error-message\">{errorMessage}</div>}\r\n\r\n//     //       <button className=\"btn\" onClick={handleNextClick}>\r\n//     //         Next\r\n//     //       </button>\r\n//     //     </div>\r\n//     //   </div>\r\n//     // </div>\r\n\r\n//     <div class=\"MainPage Login-Cards\">\r\n//       <div class=\"shade\">\r\n//         <header>\r\n//           <div class=\"navbar\">\r\n//             <div class=\"logo\">\r\n//               <span>MedicNotes</span>\r\n//             </div>\r\n//             <button class=\"contact-btn\">Contact Us</button>\r\n//           </div>\r\n//         </header>\r\n\r\n//         <section class=\"hero\">\r\n//           <div class=\"hero-content\">\r\n//             <h1>\r\n//               MedicNotes:\r\n//               <br />\r\n//               Empowering Doctors\r\n//             </h1>\r\n//             <p>\r\n//               Streamline your workflow with intuitive, AI-powered medical\r\n//               documentation.\r\n//             </p>\r\n//             <button class=\"discover-btn\">Login</button>\r\n//           </div>\r\n//           <div class=\"hero-bg\"></div>\r\n//         </section>\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n// export default Login;\r\n"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}